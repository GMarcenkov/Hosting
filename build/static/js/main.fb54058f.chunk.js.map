{"version":3,"sources":["index.js","boot/server.js","../node_modules/express/lib sync","server/routes/users.js","server/models/user/user.model.js","server/models/grade/grade.model.js","server/middlewares/authenticate.js","server/utils/logger.js","boot/env.js"],"names":["require","config","env","server","logger","load","then","success","vars","SERVER_PORT","mongoose","express","helmet","cookieParser","bodyParser","app","use","urlencoded","extended","json","isDevelopment","static","module","exports","beforeLoad","Promise","resolve","listen","connect","process","ATLAS_URI","useNewUrlParser","useCreateIndex","useUnifiedTopology","connection","once","console","log","usersRouter","setTimeout","Number","SERVER_TIMEOUT","webpackEmptyContext","req","e","Error","code","keys","id","router","Router","User","Grade","route","get","res","find","users","catch","err","status","post","username","body","password","name","secondName","familyName","email","phone","isAdmin","newUser","save","findById","params","user","grades","userId","all","schoolYears","map","gradeId","grade","push","students","includes","delete","findByIdAndDelete","put","year","date","Date","parse","schoolYear","subject","title","slug","teacher","ratingsFirstHalf","rateFirstHalf","ratingsSecondHalf","rateSecondHalf","rateForYear","yearFrom","subjects","filter","userSchema","Schema","type","String","unique","trim","minlength","required","Boolean","Array","timestamps","model","yearId","teacherId","subGrade","jwt","next","token","header","msg","decoded","verify","toLocaleString","value","color","getDate","setColor","info","error","rawError","warning","isProduction","isTest","basePath","cwd"],"mappings":"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","file":"static/js/main.fb54058f.chunk.js","sourcesContent":["\n\nrequire('dotenv').config();\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\nlet env = require('./boot/env'),\n    server = require('./boot/server'),\n    logger = require('./server/utils/logger');\n\nserver.load().then(() => {\n    logger.success('Server is running on port: ' + env.vars.SERVER_PORT);\n});\n","'use strict';\nconst mongoose = require(\"mongoose\");\nlet express = require('express'),\n    helmet = require('helmet'),\n    cookieParser = require('cookie-parser'),\n    bodyParser = require('body-parser'),\n    env = require('./env'),\n    // modules = require('./modules'),\n    // containers = require('./containers'),\n    // drivers = require('./drivers'),\n    // version = require('../server/lib/version'),\n    // proxy = require('./proxy'),\n    // multer = require('./multer'),\n    // back=require('./../src/server/server'),\n    app = express();\n\n// app.set('ENV', env);\n// app.set('VERSION', new version());\n\n\n// app.set('views', './src/client/views');\n// app.set('views engine', 'ejs');\n\n/** Loads proxy server */\n// proxy(app);\n\n/** Take care of HTTP headers to secure the app */\napp.use(helmet());\n\n/** parse application/x-www-form-urlencoded */\napp.use(bodyParser.urlencoded({ extended: false }));\n\n/** parse application/json */\napp.use(bodyParser.json());\n\n/** parse cookies */\napp.use(cookieParser());\n\n/** Loads logger on development mode */\n/** Loads multer */\n// multer(app);\n\n\n/** Loads sendgrid */\n\n/** Loads containers */\n// containers(app);\n\n/** Loads drivers */\n// drivers(app);\n\n/**\n * Load static files on development mode.\n * When on production is better to be used the front web server for serving the static files.\n */\nif (env.isDevelopment) {\n    app.use(express.static('public'));\n}\n\n/** Loads modules */\n// modules(app);\n\n/** Loads error middleware */\n// app.use('/', errorMiddleware);\n\n\nmodule.exports = {\n    app: app,\n    beforeLoad: () => {\n        return new Promise(resolve => {\n            return resolve(app);\n        });\n    },\n    load: () => {\n        return new Promise(resolve => {\n            let server = app.listen(env.vars.SERVER_PORT, () => {\n                return resolve(app);\n            });\n            mongoose.connect(process.env.ATLAS_URI, {\n                useNewUrlParser: true,\n                useCreateIndex: true,\n                useUnifiedTopology: true\n            });\n            const connection = mongoose.connection;\n            connection.once(\"open\", () => {\n                console.log(\"MongoDB database connection established successfully\");\n            });\n\n            const usersRouter = require(\"../server/routes/users\");\n            app.use(\"/api/v1/users\", usersRouter);\n            // const teacherRouter=require(\"./routes/teacher\");\n            // app.use(\"/teacher\",teacherRouter);\n            // const gradeRouter=require(\"./routes/grade\");\n            // app.use(\"/grades\",gradeRouter);\n            // const rateRouter=require(\"./routes/rate\");\n            // app.use(\"/rates\",rateRouter);\n            // const studentsInGradeRouter=require(\"./routes/studentsInGrade\");\n            // app.use(\"/studentsInGrade\",studentsInGradeRouter);\n            // const subjectRouter=require(\"./routes/subject\");\n            // app.use(\"/subject\",subjectRouter);\n            // const classRouter=require(\"./routes/subjectClass\");\n            // app.use(\"/class\",classRouter);\n            // const authentication = require(\"./routes/authentication\");\n            // app.use(\"/auth\", authentication);\n            // const schoolYearRouter = require(\"./routes/schoolYear\");\n            // app.use(\"/schoolYears\", schoolYearRouter);\n            // const categoryRouter = require(\"./routes/category\");\n            // app.use(\"/category\", categoryRouter);\n\n            if (process.env.NODE_ENV === 'production') {\n                app.use(express.static('build'));\n            }\n\n            /** Sets max timeout */\n            server.setTimeout(Number(env.vars.SERVER_TIMEOUT));\n        });\n    }\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 240;","const router = require(\"express\").Router();\nlet User = require(\"../models/user/user.model\");\nlet Grade = require(\"../models/grade/grade.model\");\nconst auth = require(\"../middlewares/authenticate\");\n\nrouter.route(\"/\").get((req, res) => {\n  User.find()\n    .then(users => res.json(users))\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nrouter.route(\"/add\").post((req, res) => {\n  const username = req.body.username;\n  const password = req.body.password;\n  const name = req.body.name;\n  const secondName = req.body.secondName;\n  const familyName = req.body.familyName;\n  const email = req.body.email;\n  const phone = req.body.phone;\n  const isAdmin = req.body.isAdmin;\n\n  const newUser = new User({\n    username,\n    password,\n    name,\n    secondName,\n    familyName,\n    email,\n    phone,\n    isAdmin\n  });\n  newUser\n    .save()\n    .then(() => res.json(newUser))\n    .catch(err => {\n      res.status(400).json(\"Error: \" + err);\n    });\n});\n\nrouter.route(\"/:id\").get((req, res) => {\n  User.findById(req.params.id)\n    .then(user => res.json(user))\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nrouter.route(\"/grade/:userId\").get((req, res) => {\n  let grades = [];\n\n  User.findById(req.params.userId)\n    .then(user => {\n      Promise.all(\n        user.schoolYears.map(gradeId =>\n          Grade.findById(gradeId).then(grade => {\n            grades.push(grade);\n          })\n        )\n      ).then(() => res.json(grades));\n    })\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\nrouter.route(\"/username/:username\").get((req, res) => {\n  let students = [];\n  User.find()\n    .then(users => {\n      users.map(user => {\n        if (user.username.includes(req.params.username)) {\n          students.push(user);\n        }\n      });\n      res.json(students);\n    })\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nrouter.route(\"/delete/:id\").delete((req, res) => {\n  User.findByIdAndDelete(req.params.id)\n    .then(() => res.json(\"User deleted.\"))\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nrouter.route(\"/edit/:id\").put((req, res) => {\n  User.findById(req.params.id)\n    .then(user => {\n      user.username = req.body.username;\n      user.password = req.body.password;\n      user.schoolYears.push(req.body.year);\n      user.date = Date.parse(req.body.date);\n      user\n        .save()\n        .then(() => res.json(\"User updated!\"))\n        .catch(err => res.status(400).json(\"Error: \" + err));\n    })\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nrouter.route(\"/addSchoolYear/:id\").put((req, res) => {\n  User.findById(req.params.id)\n    .then(user => {\n      user.schoolYears.push(req.body.schoolYear);\n      user\n        .save()\n        .then(() => res.json(\"User's schoolYear added!\"))\n        .catch(err => res.status(400).json(\"Error: \" + err));\n    })\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\nrouter.route(\"/addSubject/:id/:year\").put((req, res) => {\n  let subject = {\n    title: req.body.title,\n    slug: req.body.slug,\n    teacher: req.body.teacher,\n    ratingsFirstHalf: [],\n    rateFirstHalf: \"\",\n    ratingsSecondHalf: [],\n    rateSecondHalf: \"\",\n    rateForYear: \"\"\n  };\n  User.findById(req.params.id)\n    .then(user => {\n      user.schoolYears.map(schoolYear => {\n        if (schoolYear.yearFrom === req.params.year) {\n          schoolYear.subjects.push(subject);\n        }\n      });\n\n      user\n        .save()\n        .then(() => res.json(subject))\n        .catch(err => res.status(400).json(\"Error: \" + err));\n    })\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nrouter.route(\"/deleteSchoolYear/:id\").put((req, res) => {\n  User.findById(req.params.id)\n    .then(user => {\n      user.schoolYears.filter(req.body.schoolYear);\n      user\n        .save()\n        .then(() => res.json(\"User's schoolYear added!\"))\n        .catch(err => res.status(400).json(\"Error: \" + err));\n    })\n    .catch(err => res.status(400).json(\"Error: \" + err));\n});\n\nmodule.exports = router;\n","const mongoose = require(\"mongoose\");\n\nconst Schema = mongoose.Schema;\n\nconst userSchema = new Schema(\n  {\n    username: {\n      type: String,\n      unique: true,\n      trim: true,\n      minlength: 3\n    },\n    password: {\n      type: String,\n      trim: true,\n      minlength: 3\n    },\n    name: {\n      type: String,\n      required: true,\n      trim: true,\n      minlength: 3\n    },\n    secondName: {\n      type: String,\n      required: true,\n      trim: true,\n      minlength: 3\n    },\n    familyName: {\n      type: String,\n      required: true,\n      trim: true,\n      minlength: 3\n    },\n    email: {\n      type: String,\n      unique: true,\n      trim: true,\n      minlength: 3\n    },\n    phone: {\n      type: String,\n      unique: true,\n      trim: true,\n      minlength: 3\n    },\n    isAdmin: {\n      type: Boolean,\n      required: true\n    },\n    schoolYears: {\n      type: Array\n    }\n  },\n  {\n    timestamps: true\n  }\n);\n\nconst User = mongoose.model(\"User\", userSchema);\n\nmodule.exports = User;\n","const mongoose = require(\"mongoose\");\n\nconst Schema = mongoose.Schema;\n\nconst grades = new Schema(\n    {\n        yearId: {\n            type: String,\n            trim: true,\n        },\n        teacherId: {\n            type: String,\n            trim: true,\n\n        },\n        grade: {\n            type: String,\n            required: true,\n            trim: true,\n        },\n        subGrade: {\n            type: String,\n            required: true,\n            trim: true,\n        },\n    },\n    {\n        timestamps: true\n    }\n);\n\nconst Grade = mongoose.model(\"Grade\", grades);\n\nmodule.exports = Grade;\n","\nlet jwt = require('jsonwebtoken');\n\n function auth(req, res, next){\n    const token = req.header('Bearer Token');\n    // Check for token\n    if (!token)\n        return res.status(401).json({ msg: 'No token, authorizaton denied' });\n\n    try {\n        // Verify token\n        const decoded = jwt.verify(token, 'somesecretkeyforjsonwebtoken');\n        // Add user from payload\n        req.user = decoded;\n        next();\n    } catch (e) {\n        res.status(400).json({ msg: 'Token is not valid' });\n    }\n};\nmodule.exports=auth\n","const COLOR_DEFAULT = '\\x1b[0m';\nconst COLOR_CYAN = '\\x1b[36m';\nconst COLOR_RED = '\\x1b[31m';\nconst COLOR_GREEN = '\\x1b[32m';\nconst COLOR_YELLOW = '\\x1b[33m';\n\nclass logger {\n    static getDate() {\n        return new Date().toLocaleString();\n    }\n\n    static setColor(value, color) {\n        return color + value + COLOR_DEFAULT;\n    }\n\n    static info(value) {\n        let date = logger.getDate();\n\n        /* eslint-disable no-console */\n        console.log(logger.setColor('[' + date + ']', COLOR_CYAN), value);\n        /* eslint-enable no-console */\n    }\n\n    static error(value) {\n        let date = logger.getDate();\n\n        /* eslint-disable no-console */\n        console.log(\n            logger.setColor('[' + date + ']', COLOR_RED),\n            logger.setColor(value, COLOR_RED)\n        );\n        /* eslint-enable no-console */\n    }\n\n    static rawError(value) {\n        let date = logger.getDate();\n\n        /* eslint-disable no-console */\n        console.log(logger.setColor('[' + date + ']', COLOR_RED), value);\n        /* eslint-enable no-console */\n    }\n\n    static warning(value) {\n        let date = logger.getDate();\n\n        /* eslint-disable no-console */\n        console.log(\n            logger.setColor('[' + date + ']', COLOR_YELLOW),\n            logger.setColor(value, COLOR_YELLOW)\n        );\n        /* eslint-enable no-console */\n    }\n\n    static success(value) {\n        let date = logger.getDate();\n\n        /* eslint-disable no-console */\n        console.log(\n            logger.setColor('[' + date + ']', COLOR_GREEN),\n            logger.setColor(value, COLOR_GREEN)\n        );\n        /* eslint-enable no-console */\n    }\n}\n\nmodule.exports.info = logger.info;\nmodule.exports.error = logger.error;\nmodule.exports.rawError = logger.rawError;\nmodule.exports.warning = logger.warning;\nmodule.exports.success = logger.success;\n","'use strict';\n\nconst DEVELOPMENT = 'development';\nconst PRODUCTION = 'production';\nconst TEST = 'test';\n\nlet env = process.env.NODE_ENV || DEVELOPMENT;\n\nmodule.exports = {\n    isProduction: env === PRODUCTION,\n    isDevelopment: env === DEVELOPMENT,\n    isTest: env === TEST,\n    env: env,\n    vars: process.env,\n    basePath: process.cwd()\n};\n"],"sourceRoot":""}